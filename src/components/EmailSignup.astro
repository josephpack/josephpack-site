---
// Email signup via Buttondown
---

<div class="email-signup-wrapper">
	<h2 class="email-cta">I write a daily email about working online and living offline. It's read by founders, makers, freelancers, and consultants.</h2>
	<form id="email-signup" action="https://buttondown.com/api/emails/embed-subscribe/pack" method="post">
		<input
			type="email"
			name="email"
			placeholder="Your email address..."
			required
		/>
		<button type="submit">Join now</button>
	</form>
</div>

<script>
	const form = document.getElementById('email-signup');

	form.addEventListener('submit', async (e) => {
		e.preventDefault();
		const data = new FormData(form);
		try {
			await fetch(form.action, {
				method: 'POST',
				body: data,
				mode: 'no-cors',
			});
		} catch {
			// no-cors requests may appear to fail but still go through
		}
		window.location.href = '/thank-you';
	});
</script>
